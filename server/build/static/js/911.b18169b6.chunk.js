"use strict";(self.webpackChunkmaplibregrid=self.webpackChunkmaplibregrid||[]).push([[911],{80911:function(e,n,t){t.d(n,{Z:function(){return G}});var r=t(87462),o=t(63366),i=t(72791),a=(t(57441),t(28182)),s=t(94419),l=t(98301),u=t(90493),c=t(57137).Z,p=t(42071),f=t(40162),d=t(80184),v=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function h(e,n,t){return e===n?e.firstChild:n&&n.nextElementSibling?n.nextElementSibling:t?null:e.firstChild}function m(e,n,t){return e===n?t?e.firstChild:e.lastChild:n&&n.previousElementSibling?n.previousElementSibling:t?null:e.lastChild}function g(e,n){if(void 0===n)return!0;var t=e.innerText;return void 0===t&&(t=e.textContent),0!==(t=t.trim().toLowerCase()).length&&(n.repeating?t[0]===n.keys[0]:0===t.indexOf(n.keys.join("")))}function Z(e,n,t,r,o,i){for(var a=!1,s=o(e,n,!!n&&t);s;){if(s===e.firstChild){if(a)return!1;a=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&g(s,i)&&!l)return s.focus(),!0;s=o(e,s,t)}return!1}var P=i.forwardRef((function(e,n){var t=e.actions,a=e.autoFocus,s=void 0!==a&&a,P=e.autoFocusItem,b=void 0!==P&&P,y=e.children,M=e.className,w=e.disabledItemsFocusable,C=void 0!==w&&w,x=e.disableListWrap,E=void 0!==x&&x,T=e.onKeyDown,k=e.variant,D=void 0===k?"selectedMenu":k,F=(0,o.Z)(e,v),R=i.useRef(null),z=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,f.Z)((function(){s&&R.current.focus()}),[s]),i.useImperativeHandle(t,(function(){return{adjustStyleForScrollbar:function(e,n){var t=!R.current.style.width;if(e.clientHeight<R.current.clientHeight&&t){var r="".concat(c((0,l.Z)(e)),"px");R.current.style["rtl"===n.direction?"paddingLeft":"paddingRight"]=r,R.current.style.width="calc(100% + ".concat(r,")")}return R.current}}}),[]);var O=(0,p.Z)(R,n),S=-1;i.Children.forEach(y,(function(e,n){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===D&&e.props.selected||-1===S)&&(S=n))}));var I=i.Children.map(y,(function(e,n){if(n===S){var t={};return b&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===D&&(t.tabIndex=0),i.cloneElement(e,t)}return e}));return(0,d.jsx)(u.Z,(0,r.Z)({role:"menu",ref:O,className:M,onKeyDown:function(e){var n=R.current,t=e.key,r=(0,l.Z)(n).activeElement;if("ArrowDown"===t)e.preventDefault(),Z(n,r,E,C,h);else if("ArrowUp"===t)e.preventDefault(),Z(n,r,E,C,m);else if("Home"===t)e.preventDefault(),Z(n,null,E,C,h);else if("End"===t)e.preventDefault(),Z(n,null,E,C,m);else if(1===t.length){var o=z.current,i=t.toLowerCase(),a=performance.now();o.keys.length>0&&(a-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=a,o.keys.push(i);var s=r&&!o.repeating&&g(r,o);o.previousKeyMatched&&(s||Z(n,r,!1,C,h,o))?e.preventDefault():o.previousKeyMatched=!1}T&&T(e)},tabIndex:s?0:-1},F,{children:I}))})),b=t(35527),y=t(29439),M=t(66934),w=t(31402),C=t(83199),x=t(17602),E=t(13208),T=t(24082),k=t(75878),D=t(21217);function F(e){return(0,D.Z)("MuiPopover",e)}(0,k.Z)("MuiPopover",["root","paper"]);var R=["onEntering"],z=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function O(e,n){var t=0;return"number"===typeof n?t=n:"center"===n?t=e.height/2:"bottom"===n&&(t=e.height),t}function S(e,n){var t=0;return"number"===typeof n?t=n:"center"===n?t=e.width/2:"right"===n&&(t=e.width),t}function I(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function L(e){return"function"===typeof e?e():e}var N=(0,M.ZP)(T.Z,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,n){return n.root}})({}),j=(0,M.ZP)(b.Z,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,n){return n.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),H=i.forwardRef((function(e,n){var t=(0,w.Z)({props:e,name:"MuiPopover"}),u=t.action,c=t.anchorEl,f=t.anchorOrigin,v=void 0===f?{vertical:"top",horizontal:"left"}:f,h=t.anchorPosition,m=t.anchorReference,g=void 0===m?"anchorEl":m,Z=t.children,P=t.className,b=t.container,M=t.elevation,T=void 0===M?8:M,k=t.marginThreshold,D=void 0===k?16:k,H=t.open,K=t.PaperProps,A=void 0===K?{}:K,W=t.transformOrigin,B=void 0===W?{vertical:"top",horizontal:"left"}:W,V=t.TransitionComponent,U=void 0===V?E.Z:V,X=t.transitionDuration,Y=void 0===X?"auto":X,q=t.TransitionProps,G=(void 0===q?{}:q).onEntering,J=(0,o.Z)(t.TransitionProps,R),Q=(0,o.Z)(t,z),$=i.useRef(),_=(0,p.Z)($,A.ref),ee=(0,r.Z)({},t,{anchorOrigin:v,anchorReference:g,elevation:T,marginThreshold:D,PaperProps:A,transformOrigin:B,TransitionComponent:U,transitionDuration:Y,TransitionProps:J}),ne=function(e){var n=e.classes;return(0,s.Z)({root:["root"],paper:["paper"]},F,n)}(ee),te=i.useCallback((function(){if("anchorPosition"===g)return h;var e=L(c),n=(e&&1===e.nodeType?e:(0,l.Z)($.current).body).getBoundingClientRect();return{top:n.top+O(n,v.vertical),left:n.left+S(n,v.horizontal)}}),[c,v.horizontal,v.vertical,h,g]),re=i.useCallback((function(e){return{vertical:O(e,B.vertical),horizontal:S(e,B.horizontal)}}),[B.horizontal,B.vertical]),oe=i.useCallback((function(e){var n={width:e.offsetWidth,height:e.offsetHeight},t=re(n);if("none"===g)return{top:null,left:null,transformOrigin:I(t)};var r=te(),o=r.top-t.vertical,i=r.left-t.horizontal,a=o+n.height,s=i+n.width,l=(0,x.Z)(L(c)),u=l.innerHeight-D,p=l.innerWidth-D;if(o<D){var f=o-D;o-=f,t.vertical+=f}else if(a>u){var d=a-u;o-=d,t.vertical+=d}if(i<D){var v=i-D;i-=v,t.horizontal+=v}else if(s>p){var h=s-p;i-=h,t.horizontal+=h}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:I(t)}}),[c,g,te,re,D]),ie=i.useState(H),ae=(0,y.Z)(ie,2),se=ae[0],le=ae[1],ue=i.useCallback((function(){var e=$.current;if(e){var n=oe(e);null!==n.top&&(e.style.top=n.top),null!==n.left&&(e.style.left=n.left),e.style.transformOrigin=n.transformOrigin,le(!0)}}),[oe]);i.useEffect((function(){H&&ue()})),i.useImperativeHandle(u,(function(){return H?{updatePosition:function(){ue()}}:null}),[H,ue]),i.useEffect((function(){if(H){var e=(0,C.Z)((function(){ue()})),n=(0,x.Z)(c);return n.addEventListener("resize",e),function(){e.clear(),n.removeEventListener("resize",e)}}}),[c,H,ue]);var ce=Y;"auto"!==Y||U.muiSupportAuto||(ce=void 0);var pe=b||(c?(0,l.Z)(L(c)).body:void 0);return(0,d.jsx)(N,(0,r.Z)({BackdropProps:{invisible:!0},className:(0,a.default)(ne.root,P),container:pe,open:H,ref:n,ownerState:ee},Q,{children:(0,d.jsx)(U,(0,r.Z)({appear:!0,in:H,onEntering:function(e,n){G&&G(e,n),ue()},onExited:function(){le(!1)},timeout:ce},J,{children:(0,d.jsx)(j,(0,r.Z)({elevation:T},A,{ref:_,className:(0,a.default)(ne.paper,A.className)},se?void 0:{style:(0,r.Z)({},A.style,{opacity:0})},{ownerState:ee,children:Z}))}))}))})),K=t(13967);function A(e){return(0,D.Z)("MuiMenu",e)}(0,k.Z)("MuiMenu",["root","paper","list"]);var W=["onEntering"],B=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],V={vertical:"top",horizontal:"right"},U={vertical:"top",horizontal:"left"},X=(0,M.ZP)(H,{shouldForwardProp:function(e){return(0,M.FO)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,n){return n.root}})({}),Y=(0,M.ZP)(b.Z,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,n){return n.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),q=(0,M.ZP)(P,{name:"MuiMenu",slot:"List",overridesResolver:function(e,n){return n.list}})({outline:0}),G=i.forwardRef((function(e,n){var t=(0,w.Z)({props:e,name:"MuiMenu"}),l=t.autoFocus,u=void 0===l||l,c=t.children,p=t.disableAutoFocusItem,f=void 0!==p&&p,v=t.MenuListProps,h=void 0===v?{}:v,m=t.onClose,g=t.open,Z=t.PaperProps,P=void 0===Z?{}:Z,b=t.PopoverClasses,y=t.transitionDuration,M=void 0===y?"auto":y,C=t.TransitionProps,x=(void 0===C?{}:C).onEntering,E=t.variant,T=void 0===E?"selectedMenu":E,k=(0,o.Z)(t.TransitionProps,W),D=(0,o.Z)(t,B),F=(0,K.Z)(),R="rtl"===F.direction,z=(0,r.Z)({},t,{autoFocus:u,disableAutoFocusItem:f,MenuListProps:h,onEntering:x,PaperProps:P,transitionDuration:M,TransitionProps:k,variant:T}),O=function(e){var n=e.classes;return(0,s.Z)({root:["root"],paper:["paper"],list:["list"]},A,n)}(z),S=u&&!f&&g,I=i.useRef(null),L=-1;return i.Children.map(c,(function(e,n){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===T&&e.props.selected||-1===L)&&(L=n))})),(0,d.jsx)(X,(0,r.Z)({onClose:m,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?V:U,PaperProps:(0,r.Z)({component:Y},P,{classes:(0,r.Z)({},P.classes,{root:O.paper})}),className:O.root,open:g,ref:n,transitionDuration:M,TransitionProps:(0,r.Z)({onEntering:function(e,n){I.current&&I.current.adjustStyleForScrollbar(e,F),x&&x(e,n)}},k),ownerState:z},D,{classes:b,children:(0,d.jsx)(q,(0,r.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),m&&m(e,"tabKeyDown"))},actions:I,autoFocus:u&&(-1===L||f),autoFocusItem:S,variant:T},h,{className:(0,a.default)(O.list,h.className),children:c}))}))}))}}]);
//# sourceMappingURL=911.b18169b6.chunk.js.map