"use strict";(self.webpackChunkmaplibregrid=self.webpackChunkmaplibregrid||[]).push([[498],{31395:function(e,t,n){n.r(t),n.d(t,{default:function(){return te}});var r=n(93433),i=n(74165),s=n(15861),a=n(29439),o=n(72791),l=n(29669),d=n.n(l),u=n(56111),c=(n(10262),n(5112)),p=n.n(c),x=(n(14038),n(90983)),f=n(5483),y=n.n(f),m=n(56488),g=n(29002),h=n(57689),b=n(68870),v=n(35527),Z=n(53767),w=n(36151),j=n(20890),k=n(4834),S={geocoder:"Search_geocoder__s5IaJ",mapboxgl:"Search_mapboxgl__op+aO",mapboxgl2:"Search_mapboxgl2__p8V7e"},C=n(29823),T=n.p+"static/media/cardbg.e70ec876b2a9905cbee8.png",F=n.p+"static/media/cardbgDark.7841984ffaa43003b3d6.png",I=n(7317),D=n(79895),z=n(38308),M=n(19601),B=n(13400),R=n(39504),P=n(11087),A=n(56305),E=n(37532),O=n(85545),L=n(80184),N=function(e){var t,n,r,i,s=e.filterState,a=e.modalC,o=null===s||void 0===s?void 0:s.likesList,l=null===s||void 0===s?void 0:s.favoritesList;return console.log("filterState:",s),(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(b.Z,{sx:{height:{xs:"425px",md:"490px"},width:{xs:"290px",md:"365px"},borderRadius:"15px",position:"absolute",backgroundColor:"background.secondary",top:"80px",left:{xs:"3%",md:"0%"},pr:.5},children:[(0,L.jsxs)(b.Z,{sx:{position:"relative",borderRadius:"15px",p:.4},children:[(0,L.jsx)(b.Z,{sx:{position:"absolute",top:"10px",right:"10px"},children:(0,L.jsx)(B.Z,{onClick:function(){a(!1)},children:(0,L.jsx)(C.Z,{sx:{fontSize:"30px",color:"white",background:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)","&:hover":{background:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)"},opacity:"",padding:"8px",borderRadius:"10px"}})})}),(0,L.jsx)(b.Z,{sx:function(e){return{boxShadow:"inset 0px 4px 34px #60BFEE",backgroundImage:"url(".concat(A.J,"/upload/").concat(null===s||void 0===s?void 0:s.capturesImage,")"),backgroundPosition:"center",backgroundSize:"cover",borderRadius:"10px",height:{xs:"160px",md:"215px"},width:"100%"}}})]}),(0,L.jsxs)(R.Z,{children:[(0,L.jsxs)(b.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,L.jsx)(j.Z,{gutterBottom:!0,sx:{pb:2,fontSize:{xs:"15px"}},children:null===s||void 0===s?void 0:s.name}),(0,L.jsx)(b.Z,{style:{marginBottom:"0.8rem"},children:(0,L.jsx)(E.Z,{userlikeviews:{likesList:o,favoritesList:l},howManyViews:null===s||void 0===s?void 0:s.howManyViews})})]}),(0,L.jsxs)(b.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,L.jsx)(j.Z,{sx:{fontSize:{xs:"15px"}},children:" Price"}),(0,L.jsx)(j.Z,{component:"p",sx:{fontSize:{xs:"15px"}},children:(null===s||void 0===s?void 0:s.productTotalPrice)+"$"})]}),(0,L.jsxs)(b.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,L.jsx)(j.Z,{sx:{fontSize:{xs:"15px"}},children:" Address"}),(0,L.jsx)(j.Z,{component:"p",sx:{fontSize:{xs:"15px"}},children:""!==(null===s||void 0===s?void 0:s.mapaddress)?(null===s||void 0===s?void 0:s.mapaddress.slice(0,16))+"....":"Dubhai Matacubes"})]}),(0,L.jsxs)(b.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,L.jsx)(j.Z,{sx:{fontSize:"1rem"},children:"User"}),(0,L.jsxs)(b.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",color:"gray"},children:[(0,L.jsx)(j.Z,{component:"p",sx:{fontSize:"10px",mr:1,maxWidth:"120px",overflow:"hidden"},children:null!==s&&void 0!==s&&null!==(t=s.user)&&void 0!==t&&t.username?null===s||void 0===s||null===(n=s.user)||void 0===n?void 0:n.username:"Joy Root"}),(0,L.jsx)(b.Z,{children:""!==(null===s||void 0===s||null===(r=s.user)||void 0===r?void 0:r.profileImage)?(0,L.jsx)("img",{style:{width:"35px",height:"35px",borderRadius:"50%"},src:"".concat(A.J,"/upload/").concat(null===s||void 0===s||null===(i=s.user)||void 0===i?void 0:i.profileImage),alt:""}):(0,L.jsx)(O.Z,{style:{width:"35px",height:"35px",borderRadius:"50%"}})})]})]}),(0,L.jsxs)(b.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,L.jsx)(j.Z,{component:"p",sx:{fontSize:"1rem",color:"gray"},children:"status"}),(0,L.jsx)(j.Z,{color:null!==s&&void 0!==s&&s.paidStatusContract?"green":"red",component:"p",sx:{fontSize:"12px",ml:1,mt:1},children:null!==s&&void 0!==s&&s.paidStatusContract?"Mint succes":"pending"})]}),(0,L.jsx)("br",{}),(0,L.jsx)(P.rU,{to:"/nftDetail/".concat(null===s||void 0===s?void 0:s._id),style:{textDecoration:"none",marginBottom:"5px"},children:(0,L.jsx)(g.Z,{text:"View Details"})})]})]})})},W=o.memo(N),_=n(76943),U=n(59434),V=n(43878),J=n(97410),H=function(e){var t=e.ceil,n=e.setBLoading,r=e.loadCeil,l=e.discountValue,d=(0,J.Z)(),u=(0,z.mA)().address,c=o.useState(0),p=(0,a.Z)(c,2),x=p[0],f=p[1],y=o.useCallback((0,s.Z)((0,i.Z)().mark((function e(){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,Number(t.totalceil.length)*Number(t.tilePrice);case 3:return n=(n=e.sent).toFixed(2),r=100*(+n-+l),e.abrupt("return",+r);case 7:case"end":return e.stop()}}),e)}))),[t,l]);function g(){return(g=(0,s.Z)((0,i.Z)().mark((function e(r,s){var a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(!0),!x){e.next=9;break}return a={snapshot:t.snapshot,user:t.user,lang:t.lang,long:t.long,tilePrice:t.tilePrice,areaLength:t.totalceil.length,totalceil:JSON.stringify(t.totalceil),address:t.address,discount:+l,token:r,mapaddress:t.mapaddress,type:"stripe"},e.next=5,(0,m.gg)(a,n);case 5:"ok"===(o=e.sent).status?(n(!1),d("".concat(null===o||void 0===o?void 0:o.message),"success",3,"Success"),setTimeout((function(){window.location.reload()}),4e3)):("failed"===(null===o||void 0===o?void 0:o.status)?d(o.message.reason||o.message,"error",3,"Failed"):d(o.message,"error",3,"Failed"),n(!1)),e.next=10;break;case 9:console.log("not Found!");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.useEffect((function(){(0,s.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,f(t);case 4:case"end":return e.stop()}}),e)})))()}),[y,f,l,t]),console.log("price---\x3e",x,+t.discounted),(0,L.jsx)("div",{children:u?r?(0,L.jsx)(V.Z,{style:{width:"100%",margin:"5px 0px"},className:"center stripeMethod",stripeKey:"pk_test_51MNHzbF5wRQ0Uvcs7XByXeDH2xPTWhOEsOppkdGSEsQLdVfeOTCxddjsmpCd8ZDX9UyBKX8zUOhFbC6ePG29yPpi007D8UomKd",token:function(e,t){return g.apply(this,arguments)},amount:x,name:"Sample Book",billingAddress:!0}):(0,L.jsx)(j.Z,{sx:{color:"#37D1B5",fontWeight:700},children:"Loading ........."}):(0,L.jsx)(w.Z,{sx:{fontSize:{xs:"12px",md:"20px"},width:"100%",marginTop:{xs:"10px",md:"20px"},borderRadius:"10px",background:" linear-gradient(90deg, rgba(110,7,199,0.9223039557619923) 37%, rgba(204,13,227,0.981127485173757) 79%)",fontWeight:700},children:"Please connect to your wallet!"})})},Q=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLatestPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"string","name":"uri","type":"string"}],"name":"safeMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"setTokenPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_usdt","type":"uint256"}],"name":"usdtToBNB","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_usdt","type":"uint256"}],"name":"usdtToToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]'),X="0xA9bA8513D3608933140406F7C1673891e7c556eE",K=n(55794),Y=n(24082);n(24310);function $(e){var t=e.ceilDetailsstate,n=e.dataValue,r=e.handleClose,l=e.setBLoading,d=e.openModal,u=function(){r(!1)},c=(0,J.Z)(),p=(0,z.mA)().address,x=o.useState(""),f=(0,a.Z)(x,2),y=f[0],g=f[1],h=parseFloat(n).toFixed(6),w=(0,M.parseUnits)(h.toString(),6),S=(0,z.do)({address:X,abi:Q,functionName:"usdtToBNB",args:[w]}),T=S.data,F=(S.isError,S.isLoading,(0,z.KQ)({address:p}).data),I=F&&+(null===F||void 0===F?void 0:F.formatted),D=(0,z.M5)({request:{to:"0xbb17CDC95b626c76E934Df7bF05fEaEFcEa9C61E",value:T},onError:function(e){l(!1)}}).config,R=(0,z.pQ)(D),P=R.data,A=R.isError,E=R.isSuccess,O=R.sendTransaction,N=o.useCallback((0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!A&&E&&(0,m.Ol)(P,A,t,+w,l,y);case 1:case"end":return e.stop()}}),e)}))),[P,A,E,t]);o.useEffect((function(){N()}),[N,t]);var W=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=2;break}return e.abrupt("return",c("Please enter Address","error",3,"Failed"));case 2:if(!(+I<0)){e.next=4;break}return e.abrupt("return",c("insuficient Balance.","error",3,"Failed"));case 4:return e.next=6,(0,m.FD)(y);case 6:if("ok"!==(null===(t=e.sent)||void 0===t?void 0:t.status)){e.next=10;break}return e.next=10,O();case 10:"error"===(null===t||void 0===t?void 0:t.status)&&c("User is not register.","error",3,"Failed");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,L.jsx)("div",{children:(0,L.jsx)(Y.Z,{open:d,onClose:u,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,L.jsxs)(v.Z,{sx:{position:"absolute",top:{xs:"50%",md:"40%"},left:"50%",transform:"translate(-50%, -50%)",width:{xs:"280px",sm:"400px",md:"500px"},boxShadow:24,p:{xs:1,sm:2,md:4},borderRadius:"10px",backgroundColor:"background.secondary"},children:[(0,L.jsxs)(b.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,L.jsx)(j.Z,{id:"modal-modal-title",variant:"h5",fontWeight:"bold",sx:{fontSize:{xs:"15px",sm:"16px",md:"20px"}},children:"NFT Mint to Specific Address By Admin"}),(0,L.jsx)(b.Z,{sx:{width:"10%"},children:(0,L.jsx)(B.Z,{onClick:u,children:(0,L.jsx)(C.Z,{sx:{fontSize:"33px",background:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)","&:hover":{backgroundColor:"#4a148c"},opacity:"",padding:"8px",borderRadius:"8px",color:"white"}})})})]}),(0,L.jsx)(b.Z,{sx:{p:{xs:1,md:2},my:{xs:0,md:2},display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"start",background:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)",borderRadius:"10px"},children:(0,L.jsx)(b.Z,{sx:{width:"100%"},children:(0,L.jsxs)(Z.Z,{spacing:2,children:[(0,L.jsx)(k.ZP,{placeholder:"Enter Address",value:y,onChange:function(e){var t=e.target.value.trim();t&&g(t)},type:"text",sx:{backgroundColor:"white",width:"100%",color:"black",borderRadius:"5px",px:2,py:.5}}),(0,L.jsx)(b.Z,{sx:{width:"100%",height:"40px",borderRadius:"5px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:2,fontSize:{xs:"10px",md:"15px"},color:"white",fontWeight:500,cursor:"pointer"},onClick:W,children:"APPLY"})]})})})]})})})}var G=o.memo($),q=n(11912),ee=n(70214);var te=function(){var e,t,n=o.useContext(ee.k).mode,l=(0,J.Z)(),c=(0,h.UO)(),f=(0,h.s0)(),B=(0,U.I0)(),R=(0,U.v9)((function(e){return e})).ceilSlice.userdetails,P=(0,z.mA)().address,A=(0,o.useState)(0),E=(0,a.Z)(A,2),O=E[0],N=E[1],V=(0,o.useRef)(null),Y=(0,o.useRef)(null),$=(0,o.useRef)(null),te=(0,o.useState)(!0),ne=(0,a.Z)(te,2),re=(ne[0],ne[1],(0,o.useState)(0)),ie=(0,a.Z)(re,2),se=ie[0],ae=ie[1],oe=(0,o.useState)(1),le=(0,a.Z)(oe,2),de=le[0],ue=(le[1],(0,o.useState)([])),ce=(0,a.Z)(ue,2),pe=ce[0],xe=ce[1],fe=(0,o.useState)(!1),ye=(0,a.Z)(fe,2),me=ye[0],ge=ye[1],he=(0,o.useState)(""),be=(0,a.Z)(he,2),ve=be[0],Ze=be[1],we=(0,o.useState)(!0),je=(0,a.Z)(we,2),ke=je[0],Se=je[1],Ce=(0,o.useState)(!0),Te=(0,a.Z)(Ce,2),Fe=Te[0],Ie=Te[1],De=(0,o.useState)(!1),ze=(0,a.Z)(De,2),Me=ze[0],Be=ze[1],Re=(0,o.useState)(""),Pe=(0,a.Z)(Re,2),Ae=Pe[0],Ee=Pe[1],Oe=(0,o.useState)(!1),Le=(0,a.Z)(Oe,2),Ne=(Le[0],Le[1]),We=(0,o.useState)(!1),_e=(0,a.Z)(We,2),Ue=_e[0],Ve=_e[1],Je=(0,o.useState)(!1),He=(0,a.Z)(Je,2),Qe=He[0],Xe=He[1],Ke=(0,o.useState)(""),Ye=(0,a.Z)(Ke,2),$e=Ye[0],Ge=Ye[1],qe=o.useState(0),et=(0,a.Z)(qe,2),tt=et[0],nt=et[1],rt=o.useState(!1),it=(0,a.Z)(rt,2),st=it[0],at=it[1],ot=(0,o.useState)(!1),lt=(0,a.Z)(ot,2),dt=(lt[0],lt[1]),ut=(0,o.useState)(""),ct=(0,a.Z)(ut,2),pt=ct[0],xt=ct[1],ft="pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA",yt=(0,o.useState)([73.1083603962225,31.42117432409888]),mt=(0,a.Z)(yt,2),gt=mt[0],ht=(mt[1],(0,o.useRef)()),bt=(0,o.useState)(""),vt=(0,a.Z)(bt,2),Zt=vt[0],wt=vt[1],jt=R.role&&(null===R||void 0===R?void 0:R.role.filter((function(e){return null!==e}))),kt=!1,St=[],Ct=parseFloat(O).toFixed(6),Tt=(0,M.parseUnits)(Ct.toString(),6),Ft=(0,z.do)({address:X,abi:Q,functionName:"usdtToBNB",args:[Tt]}),It=Ft.data,Dt=(Ft.isError,Ft.isLoading,(0,z.KQ)({address:P}).data),zt=Dt&&+(null===Dt||void 0===Dt?void 0:Dt.formatted),Mt=(0,z.M5)({request:{to:"0xbb17CDC95b626c76E934Df7bF05fEaEFcEa9C61E",value:It},onError:function(e){Ve(!1)}}).config,Bt=(0,z.pQ)(Mt),Rt=Bt.data,Pt=Bt.isLoading,At=Bt.isError,Et=Bt.isSuccess,Ot=Bt.sendTransaction,Lt=o.useCallback((0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rt&&!st&&(0,m.nU)(Rt,At,Ae,+Tt,Ve);case 1:case"end":return e.stop()}}),e)}))),[Rt,Pt,At,Et]);o.useEffect((function(){Lt()}),[Lt]),(0,o.useEffect)((function(){var e=pe.length;e&&ge(!1);var t=e*de;ae(e),N(t)}),[pe]);var Nt=function(){if(St=[],y().accessToken=ft,!$.current){$.current=new(y().Map)({container:V.current,style:"mapbox://styles/mapbox/satellite-streets-v12",center:[55.266833632327774,25.20345319338018],zoom:16.5,scrollZoom:!0,preserveDrawingBuffer:!0});var e=new(p())({accessToken:y().accessToken,mapboxgl:y()});document.getElementById("geocoder").appendChild(e.onAdd($.current)),$.current.on("load",(function(){var e=new u.Grid({gridWidth:.02,gridHeight:.02,units:"kilometers",minZoom:15.5,maxZoom:22,active:!1,paint:{"line-opacity":.5,"line-color":"white"}});$.current.addControl(new(y().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),$.current.addControl(new(d().NavigationControl)({showZoom:!0})),$.current.addControl(e);var t=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,n,a,o,d,u,c,p,x,f,y,g,h,b;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="selected-cells",$.current.addSource(a,{type:"geojson",data:{type:"FeatureCollection",features:St}}),$.current.addLayer({id:a,source:a,active:!0,type:"fill",paint:{"fill-color":"#0000ff","fill-opacity":.2,"fill-outline-color":"red"}}),o=0,d=0,u=.003,$.current.on("grid.click",function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var n,s,c,p,x,f,y,m,g,h,b,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bbox,e.prev=1,e.next=4,q.Z.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(n[0],",").concat(n[1],".json?&access_token=").concat(ft));case 4:c=e.sent,p=c.data,xt(null===p||void 0===p||null===(s=p.features[0])||void 0===s?void 0:s.place_name),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error get the address",e.t0);case 12:-1===(x=St.findIndex((function(e){return e.geometry.bbox.toString()===n.toString()})))&&!0!==kt?(ht.current.style.height="80%",f=[[[n[0],n[1]],[n[2],n[1]],[n[2],n[3]],[n[0],n[3]],[n[0],n[1]]]],y=!1,m=f[0][0][0].toFixed(3),g=f[0][0][1].toFixed(3),0===o&&0===d?(o=f[0][0][0].toFixed(3),d=f[0][0][1].toFixed(3),y=!0):(b=d-g,(h=o-m).toFixed(3)<=u&&h.toFixed(3)>=-.003&&b.toFixed(3)<=u&&b.toFixed(3)>=-.003?y=!0:(l("You Can't select out of Limits!","warn",3,"Alert"),ht.current.style.height="")),v={type:"Feature",geometry:{type:"Polygon",bbox:n,coordinates:f}},y&&(St.push(v),xe((function(e){return[].concat((0,r.Z)(e),[v])})))):kt?(ht.current.style.height="80%",ge(!0)):(St.splice(x,1),xe((function(e){return e.filter((function(e,t){return t!==x}))}))),$.current.getSource(a).setData({type:"FeatureCollection",features:St}),Ge("");case 17:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),Ve(!0),c="selected-Oldcells",e.next=11,(0,m.fO)();case 11:for(p=e.sent,B((0,_.mO)(null===(t=p)||void 0===t?void 0:t.nfts)),p=null===(n=p)||void 0===n?void 0:n.nfts,Ve(!1),x=[],f=0;f<(null===(y=p)||void 0===y?void 0:y.length);f++)for(g=0;g<(null===(h=p[f])||void 0===h?void 0:h.attributes.length);g++)x.push(null===(b=p[f])||void 0===b?void 0:b.attributes[g]);$.current.on("grid.click",(function(e){var t,n=e.bbox,r=null===(t=p)||void 0===t?void 0:t.find((function(e){return null===e||void 0===e?void 0:e.attributes.find((function(e){return JSON.stringify(n)===JSON.stringify(e.geometry.bbox)}))}));""!==r&&Ze(r)})),$.current.on("grid.click",(function(){Be(!1)})),$.current.addSource(c,{type:"geojson",data:{type:"FeatureCollection",features:x}}),$.current.addLayer({id:"selectedCellsOldId",source:c,active:!0,type:"fill",paint:{"fill-color":"white","fill-opacity":.3,"fill-outline-color":"blue"}});case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();$.current.on("load",t()),$.current.on("mouseenter","selectedCellsOldId",(function(){kt=!0,$.current.getCanvas().style.cursor="not-allowed"})),$.current.on("mouseleave","selectedCellsOldId",(function(){kt=!1,$.current.getCanvas().style.cursor=""}));var n;n=e,{enabled:!0}.enabled?$.current.hasControl(n)?n.update():$.addControl(n):$.current.hasControl(n)&&$.current.removeControl(n)}))}};(0,o.useEffect)((function(){Nt()}),[gt,Qe]),(0,o.useEffect)((function(){null!==c&&void 0!==c&&c.lang&&null!==c&&void 0!==c&&c.long&&$.current.flyTo({center:[null===c||void 0===c?void 0:c.long,null===c||void 0===c?void 0:c.lang]})}),[c]);var Wt=function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){var r,s,a,o,l,d;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=pe.length/2,d=Math.floor(l),e=null===(r=pe[d])||void 0===r||null===(s=r.geometry)||void 0===s?void 0:s.bbox[0],t=null===(a=pe[d])||void 0===a||null===(o=a.geometry)||void 0===o?void 0:o.bbox[1],!(pe.length<30)){n.next=7;break}return n.next=7,$.current.flyTo({center:[e,t],zoom:(null===pe||void 0===pe?void 0:pe.length)>9?(null===pe||void 0===pe?void 0:pe.length)<18?17:(null===pe||void 0===pe?void 0:pe.length)<25?16.7:16.5:18});case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),_t=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.current.flyTo({zoom:16.5});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ut=function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{P&&null!==R&&void 0!==R&&R.id?(Wt(),Ne(!0),setTimeout((function(){var n=document.querySelector("#snapshot"),r=n.getContext("2d"),i=$.current.getCanvas().toDataURL(),s=window.devicePixelRatio,a=window.innerWidth*s,o=window.innerHeight*s;n.height=o,n.width=a;var l=new Image;l.src=i,l.onload=function(){r.drawImage(l,0,0)};var d={totalceil:pe,snapshot:i,user:null===R||void 0===R?void 0:R.id,tilePrice:de,address:P,lang:t,long:e,discounted:tt,mapaddress:pt};Ee(d),Ge(d),_t()}),2e3)):l("Please connect Wallet!","error",3,"Failed")}catch(r){console.log("Error In buyCell process ",r)}case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Vt=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,n,r,s,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Zt){e.next=16;break}return e.next=3,(0,m.Le)(Zt);case 3:if(n=e.sent,!(r=null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data)){e.next=13;break}return s=Number(r.offers),N(O-(a=O/100*s)),nt(a),e.abrupt("return",l("Discount Code applied!","success",3,"Success"));case 13:return e.abrupt("return",l("This Promo is not working","error",3,"Failed"));case 14:e.next=17;break;case 16:return e.abrupt("return",l("Please Provide Valid Promo Code","error",3,"Failed"));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Jt=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ut(),at(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(K.Z,{loading:Ue}),Ae&&st?(0,L.jsx)(G,{handleClose:at,openModal:st,ceilDetailsstate:Ae,setBLoading:Ve,dataValue:O}):"",(0,L.jsx)(b.Z,{sx:{display:"flex",flexDirection:"column",maxWidth:"xl"},children:(0,L.jsx)("div",{id:"screenshot",ref:Y,children:(0,L.jsx)(b.Z,{sx:{height:"100vh",marginRight:"0px",mt:0,position:"relative"},ref:V,children:(0,L.jsxs)(b.Z,{className:"ScrolStyle showDetailsOFBox",ref:ht,sx:{position:"absolute",height:"100vh",maxHeight:{xs:"600px",md:"700px"},top:{xs:"60px",md:"100px"},zIndex:"1",right:{xs:"15%",md:"10%"},minWidth:{xs:"300px",md:"350px"},width:{xs:"18rem",md:"25rem"},borderRadius:"15px",padding:{xs:"0px 0px",md:"4px 8px"},overflow:"scroll"},children:[(0,L.jsx)(v.Z,{children:(0,L.jsxs)(b.Z,{sx:{p:{md:1},display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,L.jsx)("div",{id:"geocoder",className:"dark"===n?"".concat(S.mapboxgl," geocoder"):"".concat(S.mapboxgl2," geocoder}")}),(0,L.jsx)(Z.Z,{direction:"row",alignItems:"center",justifyContent:"center",children:(0,L.jsx)(x.Z,{})})]})}),se&&!me?(0,L.jsx)(b.Z,{width:"100%",position:"absolute",className:"mapcontainer",id:"PaymentBox",sx:function(e){return{backgroundImage:"light"===e.palette.mode?"url(".concat(T,")"):"url(".concat(F,")"),backgroundSize:"100% 100%",position:"absolute",left:{xs:"0%",md:"0"},zIndex:" -0.9",backgroundRepeat:"no-repeat",borderRadius:"15px",height:{xs:"93%",md:"100%"},minHeight:{md:"500px"},display:se?"block":"none",p:{md:1,xs:.3},mt:1}},children:(0,L.jsxs)(b.Z,{height:"100%",p:2,ml:3,sx:{scrollbarColor:" rebeccapurple green",scrollbarWidth:"thin"},children:[(0,L.jsxs)(b.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,L.jsx)(w.Z,{onClick:function(){Be(!1),Ie(!0),Se(!0)},sx:{border:"none",fontSize:"12px",color:"text.primery",mb:1},startIcon:(0,L.jsx)(I.Z,{}),children:"Back"}),(0,L.jsx)(b.Z,{children:(0,L.jsx)(C.Z,{onClick:function(){ae(0),Xe(!Qe),ht.current.style.height=""},sx:{fontSize:{xs:"25px",md:"30px"},color:"white",cursor:"pointer",background:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)",padding:{xs:"4px",md:"6px"},borderRadius:"50%"}})})]}),(0,L.jsxs)(b.Z,{sx:{borderRadius:"10px",backgroundColor:"background.inputbg"},children:[(0,L.jsx)(j.Z,{sx:{fontSize:{backgroundImage:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)",backgroundClip:"text",color:"transparent",xs:"15px",md:"25px",fontWeight:"bold",textAlign:"center"}},children:"MetaCubes"}),(0,L.jsx)(b.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",my:1},children:(0,L.jsxs)(b.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,L.jsx)(D.Z,{sx:{color:"text.secondary"}}),(0,L.jsxs)(j.Z,{sx:{ml:1,fontSize:"12px"},children:[se," Cubes selected"]})]})}),(0,L.jsx)(b.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,L.jsx)(w.Z,{sx:{fontSize:"12px",px:2,color:"red",borderRadius:"10px",backgroundColor:"background.buttonBg"},onClick:function(){$.current.getLayer("selected-cells")?($.current.removeLayer("selected-cells"),$.current.removeSource("selected-cells")):($.current.addSource("selected-cells",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),$.current.addLayer({id:"selected-cells",source:"selected-cells",active:!0,type:"fill",paint:{"fill-color":"#0000ff","fill-opacity":.2,"fill-outline-color":"red"}})),$.current.on("click",Nt())},children:"Clear Selection"})})]}),(0,L.jsx)(b.Z,{sx:{backgroundColor:"background.inputbg",p:1.5,mt:1,borderRadius:"10px"},children:(0,L.jsxs)(Z.Z,{spacing:1,sx:{mt:1},children:[(0,L.jsxs)(b.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",color:"#848484"},children:[(0,L.jsx)(j.Z,{color:"text.secondary",sx:{fontSize:{xs:"10px",md:"12px"}},children:"Original price per cube"}),(0,L.jsx)(j.Z,{component:"span",sx:{fontSize:{xs:"10px",md:"12px"},color:"text.secondary"},children:"$1"})]}),(0,L.jsxs)(b.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",color:"#848484"},children:[(0,L.jsx)(j.Z,{color:"text.secondary",sx:{fontSize:{xs:"10px",md:"12px"}},children:"Current price per cube"}),(0,L.jsxs)(j.Z,{component:"span",sx:{fontSize:{xs:"10px",md:"12px"},color:"text.secondary"},children:["$",Math.abs(1-+tt).toFixed(2)]})]}),(0,L.jsx)("hr",{}),(0,L.jsx)(b.Z,{children:(0,L.jsxs)(j.Z,{component:"h2",sx:{display:"flex",justifyContent:"space-between",fontSize:{xs:"12px",md:"20px"},alignItems:"center"},children:["Total Price",(0,L.jsxs)(j.Z,{sx:{fontSize:{xs:"12px",md:"16px"},borderRadius:"15px",px:1,backgroundColor:"background.buttonBg"},children:[" ","$",null===O||void 0===O?void 0:O.toFixed(1)]})]})}),(0,L.jsxs)(b.Z,{sx:{border:"2px solid #34D9B1",borderRadius:"5px",width:"100%",display:"flex"},children:[(0,L.jsx)(k.ZP,{placeholder:"promo",type:"text",onChange:function(e){wt(e.target.value)},sx:{backgroundColor:"background.inputbg",color:"gray",width:"100%",borderRadius:"5px",px:2,py:.5,height:"30px"}}),(0,L.jsx)(w.Z,{sx:{height:"100%",width:"100%",background:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"none",fontSize:{xs:"10px",md:"12px"},color:"white",fontWeight:500,cursor:"pointer"},onClick:function(){return P?null!==R&&void 0!==R&&R.id?void Vt():(f("/login"),!1):l("Please connect with wallet !","error",3,"Failed")},children:"Add Promo"})]}),null!==jt&&void 0!==jt&&jt.includes("admin")?(0,L.jsx)(b.Z,{onClick:Jt,sx:{display:"inline-block",color:"#fff",fontSize:{xs:"10px",md:"11px"},fontWeight:"bold",textAlign:"center",marginTop:"10px",background:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)",padding:"10px 10px",borderRadius:"10px",cursor:"pointer",letterSpacing:"1px"},className:"promoInputField",children:"Mint Nft to Specific"}):""]})}),(0,L.jsxs)(b.Z,{children:[Fe?(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(b.Z,{sx:{width:"100%"},onClick:(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=2;break}return e.abrupt("return",l("Please connect with wallet !","error",3,"Failed"));case 2:if(null!==R&&void 0!==R&&R.id){e.next=5;break}return f("/login"),e.abrupt("return",!1);case 5:if(dt(!0),!(+zt<=0)){e.next=8;break}return e.abrupt("return",l("Insufficient funds","error",3,"Failed"));case 8:return Be(!1),Se(!1),e.next=12,Ut();case 12:return e.next=14,Ot();case 14:case"end":return e.stop()}}),e)}))),children:(0,L.jsx)(g.Z,{text:"Pay with wallet"})})}):"",Me?(0,L.jsxs)(b.Z,{sx:{pb:2},children:[(0,L.jsx)(j.Z,{sx:{fontSize:"1rem",width:"100%"},children:"Pay with Debit Card"}),(0,L.jsx)(H,{ceil:Ae,setBLoading:Ve,loadCeil:$e,discountValue:tt}),(0,L.jsx)(j.Z,{variant:"p",children:"Payment processed by Wert, USD price is for indication only. 4% transaction fee will be included. Min $5 purchases."})]}):"",ke?(0,L.jsxs)(b.Z,{children:[(0,L.jsx)(b.Z,{mt:1,children:(0,L.jsx)(j.Z,{sx:{fontSize:{xs:"10px",md:"15px"},color:"text.primery",fontWeight:"bold",textAlign:"center"},children:"OR"})}),(0,L.jsx)(b.Z,{sx:{p:"2px 4px 4px 2px",background:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)",color:"white",alignItems:"center",borderRadius:"10px"},children:(0,L.jsx)(b.Z,{onClick:(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=3;break}return l("Insufficient funds","error",3,"Failed"),e.abrupt("return",!1);case 3:if(null!==R&&void 0!==R&&R.id){e.next=6;break}return f("/login"),e.abrupt("return",!1);case 6:return dt(!0),Be(!0),Ie(!Fe),Se(!1),e.next=12,Ut();case 12:case"end":return e.stop()}}),e)}))),sx:{width:"100%",py:1,fontSize:{xs:"12px",md:"15px"},backgroundColor:"background.secondary",textAlign:"center",borderRadius:"8px"},children:(0,L.jsxs)(j.Z,{sx:{backgroundImage:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)",backgroundClip:"text",color:"transparent",fontSize:{xs:"12px",md:"20px"},fontWeight:"600",cursor:"pointer"},children:[" ","pay with debit card"]})})})]}):""]})]})}):(0,L.jsx)(L.Fragment,{children:me&&(0,L.jsx)(W,{modalC:function(e){ht.current.style.height="",ge(e)},filterState:ve})})]})})})}),(0,L.jsx)("div",{style:{width:"100%",display:"none"},children:(0,L.jsx)("canvas",{id:"snapshot",style:{width:"100%"}})})]})}},29002:function(e,t,n){n(72791);var r=n(36151),i=n(80184);t.Z=function(e){return(0,i.jsx)(r.Z,{sx:{py:1,fontSize:{xs:"12px",md:"15px"},width:"100%",marginTop:"10px",borderRadius:"10px",background:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)",color:"white",fontWeight:700},children:e.text})}},37532:function(e,t,n){n.d(t,{Z:function(){return u}});n(72791);var r={display:"flex",justifyContent:"space-between",alignItems:"center",width:"25%",color:"lightgray"},i=n(68870),s=n(53767),a=n(20890),o=n(17237),l=n(60786),d=n(80184);var u=function(e){var t,n,u=e.userlikeviews,c=e.howManyViews,p=null===u||void 0===u||null===(t=u.likesList)||void 0===t?void 0:t.length,x=null===u||void 0===u||null===(n=u.favoritesList)||void 0===n?void 0:n.length;return null===c||void 0===c||c.length,(0,d.jsx)(i.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",my:1},children:(0,d.jsx)(i.Z,{sx:{display:"flex",justifyContent:"space-between"},children:(0,d.jsxs)(s.Z,{spacing:1,direction:"row",children:[(0,d.jsxs)(i.Z,{style:r,children:[(0,d.jsx)(l.Z,{fontSize:"small"}),(0,d.jsx)(a.Z,{fontSize:"small",sx:{ml:.5},children:p>0?p:0})]}),(0,d.jsxs)(i.Z,{style:r,children:[(0,d.jsx)(o.Z,{fontSize:"small",sx:{ml:1}}),(0,d.jsxs)(a.Z,{fontSize:"small",sx:{ml:.5},children:[" ",x||0]})]})]})})})}},97410:function(e,t,n){var r=n(26960);t.Z=function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={position:"top-right",heading:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",hideAfter:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,bar:{size:"5px"}};"success"===t?r.Z.success(e,n):"error"===t?r.Z.error(e,n):"warn"===t?r.Z.warn(e,n):r.Z.info(e,n)}}}}]);
//# sourceMappingURL=498.514582bd.chunk.js.map