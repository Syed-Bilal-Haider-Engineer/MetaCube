"use strict";(self.webpackChunkmaplibregrid=self.webpackChunkmaplibregrid||[]).push([[658],{29002:function(e,i,n){n(72791);var t=n(36151),r=n(80184);i.Z=function(e){return(0,r.jsx)(t.Z,{sx:{py:1,fontSize:{xs:"12px",md:"15px"},width:"100%",marginTop:"30px",borderRadius:"10px",background:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)",color:"white",fontWeight:700},children:e.text})}},91658:function(e,i,n){n.r(i),n.d(i,{default:function(){return te}});var t=n(74165),r=n(15861),s=n(29439),d=n(72791),o=n(68870),l=n(61889),a=n(56598),c=n(67394),u=n(53767),x=n(13400),p=n(20890),h=n(90580),f=n(57689),Z=n(36151),g=n(80184);var j=function(e){return(0,g.jsx)(Z.Z,{sx:{py:1,fontSize:{xs:"12px",md:"15px"},width:"100%",marginTop:"30px",borderTopLeftRadius:"10px",borderTopRightRadius:"0px",borderBottomRightRadius:"10px",borderBottomLeftRadius:"00px",background:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)",color:"white",fontWeight:700},children:e.text})},v=n(93433),m=n(1413),b=n(55931),y=n(64387),k=n(35527),w=n(29818),S=n(99321),R=n(4834),C=n(29823),P=n(61134),I=n(65532),F=n(69596),T=n(26088),D=n(56488),z=n(75985),A=n(29002),E=d.forwardRef((function(e,i){return(0,g.jsx)(b.Z,(0,m.Z)({direction:"down",ref:i},e))})),L={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},B={display:"flex",minWidth:0,overflow:"hidden"},W={display:"block",width:"auto",height:"100%"},q={display:"inline-flex",borderRadius:2,marginBottom:8,marginRight:8,width:"auto",height:200,boxSizing:"border-box"},M=(0,T.Z)(y.Z)({backgroundColor:"background.inputbg",margin:"5px",borderRadius:"5px"});function N(e){var i=d.useState(null===e||void 0===e?void 0:e.open),n=(0,s.Z)(i,2),l=n[0],a=n[1],c=d.useState([]),h=(0,s.Z)(c,2),f=h[0],j=h[1],b=d.useState("File"),y=(0,s.Z)(b,2),T=y[0],N=y[1],O=d.useState(""),H=(0,s.Z)(O,2),V=H[0],U=H[1],J=d.useState([]),K=(0,s.Z)(J,2),Y=K[0],$=K[1],_=new FormData,G=null===e||void 0===e?void 0:e.nftsDetails,X=G._id,Q=G.address,ee=G.addressdetails,ie=G.productTotalPrice,ne=G.fileLink,te=G.description,re=G.name,se=G.mapaddress,de=(0,I.uI)({noClick:!0,noKeyboard:!0,onDrop:function(e){var i=e[0],n=i.size/1048576,t=null===i||void 0===i?void 0:i.path.split("."),r=null===t||void 0===t?void 0:t.pop();if(n>=20)return z.Am.error("Please choice file less then 20 MB"),!1;U(e[0]),["mov","mp4","avi","wmf","flv","webm"].includes(r)||j(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),oe=de.getRootProps,le=de.getInputProps,ae=de.open,ce=f.map((function(e){return(0,g.jsx)("div",{style:q,children:(0,g.jsx)("div",{style:B,children:(0,g.jsx)("img",{src:e.preview,style:W,alt:""})})},e.name)})),ue=(0,P.cI)({mode:"onChange"}),xe=ue.register,pe=ue.handleSubmit,he=ue.setValue,fe=ue.formState.errors;d.useEffect((function(){he("filelink",ne||""),he("name",re),he("productTotalPrice",ie),he("mapaddress",se),he("addressdetails",ee),he("description",te)}),[]);var Ze=function(){a(!1),e.modalFunc(!1)},ge=function(){var i=(0,r.Z)((0,t.Z)().mark((function i(n,r){var s,d;return(0,t.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(s in n)_.append(s,n[s]);return _.append("file",V),_.append("_id",X),_.append("walletAddress",Q),i.prev=4,i.next=7,(0,D.oF)(_);case 7:"ok"===(d=i.sent).status?(z.Am.success("Nft Data update successfully !"),setTimeout((function(){e.modalFunc(!1)}),2e3)):z.Am.error(null===d||void 0===d?void 0:d.message),i.next=14;break;case 11:i.prev=11,i.t0=i.catch(4),console.log("Nfts update error",i.t0);case 14:case"end":return i.stop()}}),i,null,[[4,11]])})));return function(e,n){return i.apply(this,arguments)}}();return(0,g.jsx)(k.Z,{children:(0,g.jsx)(w.Z,{TransitionComponent:E,open:l,onClose:function(){Ze()},maxWidth:"xs",fullWidth:!0,sx:{"& .css-twia2z-MuiPaper-root-MuiDialog-paper":{borderRadius:"10px",background:"background.secondary"}},children:(0,g.jsxs)(o.Z,{p:2,component:"form",onSubmit:pe(ge),children:[(0,g.jsx)(o.Z,{display:"flex",justifyContent:"end",children:(0,g.jsx)(x.Z,{onClick:function(){Ze()},sx:{float:"right",color:"text.seconary"},children:(0,g.jsx)(C.Z,{})})}),"File"===T&&(0,g.jsxs)(o.Z,(0,m.Z)((0,m.Z)({display:"flex",alignItems:"center",flexDirection:"column"},oe()),{},{children:[(0,g.jsx)("input",(0,m.Z)({},le())),(null===f||void 0===f?void 0:f.length)>0?(0,g.jsx)("aside",{style:L,children:ce}):(0,g.jsxs)(u.Z,{alignItems:"center",sx:{py:3,color:"text.secondary",cursor:"pointer"},onClick:function(){ae()},children:[(0,g.jsx)(F.Z,{fontSize:"large"}),(0,g.jsx)(p.Z,{sx:{fontWeight:"600",fontSize:"18px"},children:"Browse Files"}),(0,g.jsx)(p.Z,{sx:{fontWeight:"600",fontSize:"14px"},children:V?"File save":"Drag and drop files here"})]})]})),(0,g.jsxs)(o.Z,{py:1,children:[(0,g.jsx)(p.Z,{sx:{color:"text.primery"},children:"Type "}),(0,g.jsxs)(S.Z,{sx:{height:"39px",borderRadius:"5px",backgroundColor:"background.inputbg","& .MuiOutlinedInput-notchedOutline":{border:"none"}},value:T,onChange:function(e){return N(e.target.value)},fullWidth:!0,inputProps:{MenuProps:{MenuListProps:{}}},children:[(0,g.jsx)(M,{value:"File",children:"File"}),(0,g.jsx)(M,{value:"Link",children:"Link"})]})]}),"Link"===T&&(0,g.jsxs)(o.Z,{py:1,children:[(0,g.jsx)(p.Z,{children:"Link "}),(0,g.jsx)(R.ZP,{placeholder:"Enter link",type:"text",sx:{backgroundColor:"background.inputbg",width:"100%",borderRadius:"5px",px:2,py:.5}})]}),(0,g.jsxs)(o.Z,{py:1,children:[(0,g.jsx)(p.Z,{children:"Title "}),(0,g.jsx)(R.ZP,(0,m.Z)((0,m.Z)({},xe("name",{required:!0})),{},{placeholder:"Enter title",type:"text",sx:{backgroundColor:"background.inputbg",width:"100%",borderRadius:"5px",px:2,py:.5}})),fe.name&&(0,g.jsx)(p.Z,{sx:{color:"red",fontSize:"14px"},children:"This field is required *"})]}),(0,g.jsxs)(o.Z,{py:1,children:[(0,g.jsx)(p.Z,{children:"Price"}),(0,g.jsx)(R.ZP,(0,m.Z)((0,m.Z)({},xe("productTotalPrice",{required:!0})),{},{placeholder:"Enter Price",type:"text",sx:{backgroundColor:"background.inputbg",color:"gray",width:"100%",borderRadius:"5px",px:2,py:.5}})),fe.productTotalPrice&&(0,g.jsx)(p.Z,{sx:{color:"red",fontSize:"14px"},children:"This field is required *"})]}),(0,g.jsxs)(o.Z,{py:1,children:[(0,g.jsx)(p.Z,{children:"Description"}),(0,g.jsx)(R.ZP,(0,m.Z)((0,m.Z)({},xe("description",{required:!0})),{},{placeholder:"Enter description",type:"text",sx:{backgroundColor:"background.inputbg",width:"100%",borderRadius:"5px",px:2,py:.5}})),fe.description&&(0,g.jsx)(p.Z,{sx:{color:"red",fontSize:"14px"},children:"This field is required *"})]}),(0,g.jsxs)(o.Z,{py:1,children:[(0,g.jsx)(p.Z,{children:"Address"}),(0,g.jsx)(R.ZP,(0,m.Z)((0,m.Z)({},xe("mapaddress",{required:!0})),{},{placeholder:"Enter address",type:"text",sx:{backgroundColor:"background.inputbg",width:"100%",borderRadius:"5px",px:2,py:.5}})),fe.mapaddress&&(0,g.jsx)(p.Z,{sx:{color:"red",fontSize:"14px"},children:"This field is required *"})]}),(0,g.jsxs)(o.Z,{py:1,children:[(0,g.jsx)(p.Z,{children:"Address details *"}),(0,g.jsx)(R.ZP,(0,m.Z)((0,m.Z)({},xe("addressdetails",{required:!0})),{},{multiline:!0,minRows:2,placeholder:"Enter address details",type:"text",sx:{backgroundColor:"background.inputbg",width:"100%",borderRadius:"5px",px:2,py:.5}}))]}),(null===Y||void 0===Y?void 0:Y.length)>0?null===Y||void 0===Y?void 0:Y.map((function(e,i){var n=e.id;return(0,g.jsxs)(o.Z,{py:1,children:[(0,g.jsx)(p.Z,{children:"Metadata *"}),(0,g.jsx)(R.ZP,(0,m.Z)((0,m.Z)({},xe("matadata".concat(n))),{},{multiline:!0,minRows:2,placeholder:"Enter matadata",type:"text",sx:{backgroundColor:"background.inputbg",width:"100%",borderRadius:"5px",px:2,py:.5}}))]},i+10*Math.random())})):"",(0,g.jsx)(o.Z,{sx:{width:"50%",display:"flex",justifyContent:"center",alignItems:"center"},onClick:function(){Y.length<10&&$([].concat((0,v.Z)(Y),[{id:Y.length}]))},children:(0,g.jsx)(A.Z,{text:"Add MetaData"})}),(0,g.jsx)(o.Z,{py:1,display:"flex",justifyContent:"center",children:(0,g.jsx)(Z.Z,{type:"submit",sx:{mt:2,fontSize:"15px",width:"100%",borderRadius:"5px",background:" linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)",color:"white",fontWeight:700,boxShadow:2},children:"Edit"})})]})})})}var O=n(59434),H=n(56305),V=n(72430),U=n(60786),J=n(87488),K=n(17237),Y=n(3746),$=n(36520),_=n(47401),G=n(60042),X=n(56580),Q=n(89748),ee=function(e){var i=e.ceilSlice,n=(0,d.useState)(!1),a=(0,s.Z)(n,2),c=a[0],u=a[1],h=(0,d.useState)(0),Z=(0,s.Z)(h,2),j=Z[0],v=Z[1],m=(0,d.useState)(!1),b=(0,s.Z)(m,2),y=b[0],k=b[1],w=(0,d.useState)(0),S=(0,s.Z)(w,2),R=S[0],C=S[1],P=(0,d.useState)(0),I=(0,s.Z)(P,2),F=I[0],T=I[1],A=(0,d.useState)(0),E=(0,s.Z)(A,2),L=E[0],B=E[1],W=(0,d.useState)(!1),q=(0,s.Z)(W,2),M=q[0],N=q[1],O=(0,d.useState)(!1),H=(0,s.Z)(O,2),ee=H[0],ie=H[1],ne=(0,d.useState)(!1),te=(0,s.Z)(ne,2),re=te[0],se=te[1],de=(0,f.UO)(),oe=function(){var e=de.id,n=null===i||void 0===i?void 0:i.userdetails.id;(0,D.Vk)(e).then((function(e){e.data.includes(n)?k(!0):k(!1),C(e.data.length)}))},le=function(){var e=de.id,n=null===i||void 0===i?void 0:i.userdetails.id;(0,D.Hc)(e).then((function(e){e.data.likesList.includes(n)?u(!0):u(!1),v(e.data.likesList.length)}))},ae=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,D.KN)({userId:null===i||void 0===i?void 0:i.userdetails.id,nftId:de.id});case 2:e.sent&&(z.Am.success("Your vote cast for this NFT"),ce());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,D.cX)(de.id);case 2:n=e.sent,B(n.data.length),n.data.includes(null===i||void 0===i?void 0:i.userdetails.id)?N(!0):N(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=de.id,s=null===i||void 0===i?void 0:i.userdetails.id,e.next=4,(0,D.OG)({userId:s,nftId:r});case 4:e.sent&&(z.Am.success("This NFT add in your Follow List"),xe());case 6:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}(),xe=function(){var e=de.id,n=null===i||void 0===i?void 0:i.userdetails.id;(0,D.Hc)(e).then((function(e){e.data.follows.includes(n)?ie(!0):ie(!1),se(e.data.follows.length)}))};return(0,d.useEffect)((function(){le(),oe(),function(){var e=de.id,n=null===i||void 0===i?void 0:i.userdetails.id;(0,D.bh)({userId:n,nftId:e}).then((function(i){return(0,D.MF)(e).then((function(e){return T(e.data)}))}))}(),ce(),xe()}),[]),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(o.Z,{sx:{color:"white",p:2,mt:7,background:"linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)",borderRadius:"10px"},children:[(0,g.jsx)(p.Z,{sx:{fontSize:"16px",fontWeight:"600"},children:"Attributes"}),(0,g.jsxs)(l.ZP,{item:!0,container:!0,xs:12,spacing:1,pt:2,children:[(0,g.jsx)(l.ZP,{item:!0,xs:12,sm:2,children:(0,g.jsxs)(o.Z,{p:2,sx:{borderRadius:"10px",display:"flex",alignItems:"center"},children:[(0,g.jsx)($.Z,{title:"Like",placement:"left",children:(0,g.jsx)(x.Z,{sx:{color:"white"},children:c?(0,g.jsx)(U.Z,{}):(0,g.jsx)(V.Z,{onClick:function(){var e=de.id,n=null===i||void 0===i?void 0:i.userdetails.id;(0,D.q2)({userId:n,nftId:e}).then((function(e){z.Am.success("You Like this NFT"),le()}))}})})}),(0,g.jsx)(p.Z,{children:j})]})}),(0,g.jsx)(l.ZP,{item:!0,xs:12,sm:2,children:(0,g.jsxs)(o.Z,{p:2,sx:{borderRadius:"10px",display:"flex",alignItems:"center"},children:[(0,g.jsx)($.Z,{title:"Favorite",placement:"left",children:(0,g.jsx)(x.Z,{sx:{color:"white"},children:y?(0,g.jsx)(K.Z,{}):(0,g.jsx)(J.Z,{onClick:function(){var e=de.id,n=null===i||void 0===i?void 0:i.userdetails.id;(0,D.Nt)({userId:n,nftId:e}).then((function(e){z.Am.success("This NFT add in your Favorite List"),oe()}))}})})}),(0,g.jsx)(p.Z,{children:R})]})}),(0,g.jsx)(l.ZP,{item:!0,xs:12,sm:2,children:(0,g.jsxs)(o.Z,{p:2,sx:{borderRadius:"10px",display:"flex",alignItems:"center"},children:[(0,g.jsx)($.Z,{title:"Vote",placement:"left",children:(0,g.jsx)(x.Z,{sx:{color:"white"},children:M?(0,g.jsx)(_.Z,{}):(0,g.jsx)(G.Z,{onClick:ae})})}),(0,g.jsx)(p.Z,{children:L})]})}),(0,g.jsx)(l.ZP,{item:!0,xs:12,sm:2,children:(0,g.jsxs)(o.Z,{p:2,sx:{borderRadius:"10px",display:"flex",alignItems:"center"},children:[(0,g.jsx)($.Z,{title:"Follow",placement:"left",children:(0,g.jsx)(x.Z,{sx:{color:"white"},children:ee?(0,g.jsx)(Q.Z,{}):(0,g.jsx)(X.Z,{onClick:ue})})}),(0,g.jsx)(p.Z,{children:re})]})}),(0,g.jsx)(l.ZP,{item:!0,xs:12,sm:2,children:(0,g.jsxs)(o.Z,{p:2,sx:{borderRadius:"10px",display:"flex",alignItems:"center"},children:[(0,g.jsx)($.Z,{title:"Views",placement:"left",children:(0,g.jsx)(x.Z,{sx:{color:"white"},children:(0,g.jsx)(Y.Z,{})})}),(0,g.jsx)(p.Z,{children:F})]})})]})]})})},ie=n(76943),ne=n(91689);function te(){var e,i=(0,O.I0)(),n=(0,O.v9)((function(e){return e})).ceilSlice,Z=n.nftdetails,v=n.userdetails,m=d.useState(!1),b=(0,s.Z)(m,2),y=b[0],k=b[1],w=(0,f.s0)(),S=(0,f.UO)(),R=["mov","mp4","avi","wmf","flv","webm"],C=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=5;break}return e.next=3,(0,D.Dv)(null===S||void 0===S?void 0:S.id);case 3:n=e.sent,i((0,ie.RV)(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();d.useEffect((function(){C()}),[]);var P=null===Z||void 0===Z||null===(e=Z.file)||void 0===e?void 0:e.split("."),I=null===P||void 0===P?void 0:P.pop(),F=null!==Z&&void 0!==Z&&Z.file||null!==Z&&void 0!==Z&&Z.filelink?null!==Z&&void 0!==Z&&Z.filelink?null===Z||void 0===Z?void 0:Z.filelink:null===Z||void 0===Z?void 0:Z.file:null===Z||void 0===Z?void 0:Z.capturesImage;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(a.Z,{maxWidth:"lg",sx:{pt:14},children:[y&&(0,g.jsx)(N,{open:y,modalFunc:function(e){k(e),C()},nftsDetails:Z}),(0,g.jsx)(o.Z,{sx:{display:"flex ",alignItems:"center",p:2,boxShadow:1,backgroundColor:"background.secondary"},children:(0,g.jsxs)(l.ZP,{container:!0,spacing:5,p:3,children:[(0,g.jsx)(l.ZP,{item:!0,xs:12,md:5.5,children:(0,g.jsxs)(o.Z,{sx:{width:"100%",height:I?{xs:"240",md:"450px"}:"100%",padding:"2px",borderRadius:"30px",background:I?"":" linear-gradient(90.1deg, #4F98D0 0.11%, #34D9B1 95.94%)"},children:[null!==R&&void 0!==R&&R.includes(I)?"":(0,g.jsx)(o.Z,{sx:{width:"100%",height:"100%",minHeight:{xs:"300px",md:"500px"},backgroundImage:F?"url(".concat(H.J,"/upload/").concat(F,")"):"url(".concat(ne,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",borderRadius:"30px"}}),null!==R&&void 0!==R&&R.includes(I)?(0,g.jsx)(o.Z,{sx:{borderRadius:"5px",overflow:"hidden"},children:(0,g.jsx)("video",{src:"".concat(H.J,"/upload/").concat(null===Z||void 0===Z?void 0:Z.file),width:"100%",border:"2px solid blue",controls:"controls",autoPlay:!1,style:{minHeight:"350px",maxHeight:"370px"}})}):""]})}),(0,g.jsx)(l.ZP,{item:!0,xs:12,md:6.5,children:(0,g.jsxs)(o.Z,{children:[(0,g.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,children:[(0,g.jsx)(o.Z,{sx:{background:" linear-gradient(10.09deg, #C90EE0 12.4%, #6809BB 94.89%)",padding:"2px",borderRadius:"50%"},children:(0,g.jsx)(x.Z,{onClick:function(){w(-1)},sx:function(e){return{backgroundColor:"light"===e.palette.mode?"#ffffff":"#3A3A3A","&:hover":{backgroundColor:"light"===e.palette.mode?"#ffffff":"#000000"}}},children:(0,g.jsx)(c.Z,{fontSize:"small"})})}),(0,g.jsx)(o.Z,{sx:{background:" linear-gradient(10.09deg, #C90EE0 12.4%, #6809BB 94.89%)",padding:"2px",borderRadius:"50%"},children:(0,g.jsx)(x.Z,{sx:function(e){return{backgroundColor:"light"===e.palette.mode?"#ffffff":"#3A3A3A","&:hover":{backgroundColor:"light"===e.palette.mode?"#ffffff":"#000000"}}},children:(0,g.jsx)(h.Z,{fontSize:"small"})})})]}),(0,g.jsxs)(p.Z,{variant:"h3",py:3,children:[(0,g.jsx)("span",{style:{textDecoration:"underline"},children:null===Z||void 0===Z?void 0:Z.name})," "]}),(0,g.jsx)(p.Z,{color:"text.secondary",variant:"body2",py:3,children:null===Z||void 0===Z?void 0:Z.description}),(0,g.jsxs)(o.Z,{sx:{py:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,g.jsxs)(o.Z,{children:[(0,g.jsx)(p.Z,{sx:{fontSize:"25px"},children:"Current Price"}),(0,g.jsx)(p.Z,{sx:{fontSize:"20px",fontWeight:"600"},children:null!==Z&&void 0!==Z&&Z.productTotalPrice?(null===Z||void 0===Z?void 0:Z.productTotalPrice)+"$":"0 $"})]}),(null===v||void 0===v?void 0:v.id)===(null===Z||void 0===Z?void 0:Z.user)?(0,g.jsx)(o.Z,{onClick:function(){k(!0)},sx:{width:"50%"},children:(0,g.jsx)(j,{text:"Edit"})}):(0,g.jsx)(o.Z,{sx:{width:"50%"},children:(0,g.jsx)(j,{text:"Buy now"})})]}),(0,g.jsx)(ee,{ceilSlice:n})]})})]})})]})})}},91689:function(e,i,n){e.exports=n.p+"static/media/bloctech.b504c6946de55390a53d.jpg"}}]);
//# sourceMappingURL=658.6b775cd4.chunk.js.map